---
import { Badge } from "@astrojs/starlight/components";
import { type BadgeComponentProps } from "node_modules/@astrojs/starlight/schemas/badge";

/**
 * Render the preview with a badge and its children
 *
 */

type Props = BadgeComponentProps;
const emojis = {
  rocket: "🚀",
  popcorn: "🍿",
  bug: "🐞",
};

function makeBadgeTextWithEmoji(
  variant: BadgeComponentProps["variant"],
  text: BadgeComponentProps["text"]
) {
  if (variant === "success") return `${emojis.rocket} ${text}`;
  else if (variant === "tip") return `${emojis.popcorn} ${text}`;
  else if (variant === "danger") return `${emojis.bug} ${text}`;
  else return text;
}

const { text, variant, size } = Astro.props;
---

<div>
  <Badge text={makeBadgeTextWithEmoji(variant, text)} {variant} {size} />
  <br />
  <slot />
</div>
